# PRD – AI 꿈해석 로또 번호 추천기

## 1. 제품 개요

### 1.1 제품명
**AI 꿈해석 로또 번호 추천기**

### 1.2 제품 비전
사용자가 입력한 **아침의 꿈과 개인의 고유한 시간 정보(출생년도·띠)**를  
동양 사상(음양오행·12지지·수리상징)에 기반해 해석하고,  
이를 **설명 가능한 논리 구조**로 로또 번호 6개로 변환하는 AI 웹 서비스.

### 1.3 핵심 가치
- 단순 랜덤이 아닌 **명분 있는 번호 생성**
- 꿈 해석의 **서사적 재미 + 상징적 설득력**
- 누구나 이해할 수 있는 **친절한 결과 설명**

---

## 2. 주요 기능 정의

### 2.1 꿈 입력 기반 로또 번호 추천 (Core)

#### 기능 설명
- 사용자가 **오늘 아침 꾼 꿈**을 자연어로 입력
- 개인 정보(출생년도, 띠)를 함께 받아
- 규칙 기반 로직으로 **로또 번호 6개(1~45)** 추천

#### 입력 값
- 꿈 내용 (텍스트, 최소 30자)
- 출생년도 (YYYY)
- 띠 (자동 계산 또는 수동 선택)

#### 출력 값
- 로또 번호 6개 (중복 없음, 오름차순)
- 각 숫자의 간단한 생성 근거 설명

---

### 2.2 AI 꿈해석 (1차 서사 변환)

#### 기능 설명
- 사용자가 입력한 꿈 문장을
- **동양 사상 + 12지지 동물**을 바탕으로
- **판타지 소설 에피소드 형식**으로 재구성
- 이야기에는 반드시 **권선징악적 교훈**이 포함되어야 한다.

#### 생성 규칙
- 분량: 300자 이내
- 톤: 신비롭고 유쾌하며 재치 있는 판타지
- 꿈의 핵심 상징은 반드시 서사에 반영

#### 입력 예
> “어둠속 우물에서 빛나는 뱀과 마주했는데 푸른 빛의 옥구슬을 받는 꿈을 꿨어”

#### 출력 예
> 어둠이 가득 찬 고대의 우물 속으로 끌리듯 내려가자…

---

### 2.3 AI 꿈해석 2차 최종해석 (숫자 생성)

#### 기본 전제
- 로또 번호는 **개인의 고정된 시간 정보 + 당일의 무의식 신호**를
  수리적·상징적으로 변환한 결과이다.

| 구분 | 설명 |
|---|---|
| 고정값 | 출생년도, 띠 |
| 변동값 | 오늘 아침의 꿈 |
| 목적 | 확률 공간에 의미를 부여 |

---

#### 2.3.1 출생년도 · 띠 → 고정 숫자 규칙

- 띠를 12지지 인덱스로 변환 (1~12)
- 출생년도 숫자 분해
  - 연도 합
  - 끝 두 자리

예: **1988년생 / 용띠**
- 연도 합: 1+9+8+8 = 26
- 끝 두 자리: 88
- 띠 번호: 5

---

#### 2.3.2 꿈 → 변동 숫자 규칙 (상징 매핑)

| 꿈 상징 | 숫자 | 근거 |
|---|---|---|
| 물 | 1, 6 | 유동성, 음 |
| 불 | 9 | 양, 에너지 극대 |
| 하늘/비행 | 7 | 완성, 초월 |
| 떨어짐 | 4 | 불안정 |
| 집 | 8 | 기반, 축적 |
| 동물 | 띠 숫자 | 본능, 운명 |
| 돈 | 8 | 재물 |
| 죽음 | 0 / 10 | 재시작 |
| 길 | 3 | 진행 |

---

#### 2.3.3 로또 번호 생성 규칙 (6개)

1. 띠 숫자  
2. 출생년도 합  
3. 출생년도 끝 두 자리 ÷ 2 (45 이내 조정)  
4. 꿈 상징 숫자 1  
5. 꿈 상징 숫자 2  
6. 조정 숫자 (평균 또는 차이값)

- 중복 제거
- 1~45 범위 보정
- 최종 오름차순 정렬

---

## 3. 화면 구성 (UX/UI)

### 3.1 메인 화면

- 제목: **AI 꿈해석 로또 번호 추천기**
- 설명 문구:  
  > 당신의 꿈을 로또 번호로 바꾸어 드립니다.

---

### 3.2 입력 영역

- 꿈 입력창
  - 여러 줄 텍스트 입력
  - 최소 30자 이상
- 개인 정보 입력
  - 출생년도
  - 출생 시각 (선택)
  - 성별 (선택)

---

### 3.3 액션 버튼

- 버튼명: **꿈해석 시작하기**
- 클릭 시:
  1. AI 꿈해석(서사 생성)
  2. 최종 숫자 분석 및 로또 번호 생성

---

### 3.4 결과 화면

- AI 꿈해석 결과 (이야기)
- 이모티콘을 활용한 시각화
- 로또 번호 6개 강조 표시
- 숫자별 간단한 해석 설명

---

## 4. 기술 스택

### 프론트엔드
- Next.js (App Router)
- TypeScript
- Tailwind CSS
- Shadcn/ui

### 백엔드 / 인프라
- Supabase (DB, Auth)
- AI SDK
- Google Gemini API

---

## 5. 데이터 구조 (초안)

### DreamInput
```ts
{
  id: string
  dreamText: string
  birthYear: number
  zodiac: number
  createdAt: Date
}
